cc.Class({
    extends: cc.Component,
    properties: {
        label:cc.Label,
        lblBg:cc.Node,
        arrow:cc.Node,
        touchArea:cc.Node,
        hallScene:cc.Node,
        mainGameScene:cc.Node,
        chooseScene:cc.Node,
        EntryScene:cc.Node,
        deckScene:cc.Node,
        equipScene:cc.Node,
        spellScene:cc.Node,
        equipIcon:cc.Sprite,
        equipDetail:cc.Node,
        spellDetail:cc.Node,
        spellList:cc.Node,
        choosePlayer:cc.Node,
        blue:cc.Node,
        process:0
    },
    clicked(){
        var self=this;
        var fnList=[
            function(){
                console.log('start');
                self.lblBg.active=false;
                self.arrow.active=true;
                self.changeNode(self.arrow,1.5,1.5,-1,-247);
                self.changeNode(self.touchArea,3.63,3.63,1,55);
            },
            function(){
                self.hallScene.active=false;
                self.EntryScene.active=true;
                self.changeNode(self.arrow,1.5,1.5,227,-269);
                self.changeNode(self.touchArea,2,2,231,-490);
                self.arrow.rotation=-90;
            },
            function(){
                self.chooseScene.active=true;
                self.label.string="开局之前需要先选择一件自己的装备，我们这次就先选择这件可以打出真实伤害的凤炎作为武器吧"
                self.lblBg.active=true;
                self.changeNode(self.arrow,1.2,1.2,168,-231);
                self.changeNode(self.touchArea,1.52,1.5,183,-81);
                self.arrow.rotation=90;
            },
            function(){
                self.equipIcon.node.active=true;
                self.label.string="点击确认即可开始匹配。每一场游戏都要等到晚上10:30才会开局，不过这次就先不让你等啦"
                self.changeNode(self.arrow,1.2,1.2,-5,-252);
                self.changeNode(self.touchArea,2,0.8,183,-252);
                self.arrow.rotation=180;
            },
            function(){
                self.EntryScene.active=false;
                self.mainGameScene.active=true;
                self.choosePlayer.active=true;
                self.label.string="首先，让我们先了解一下怎么进攻";
                self.changeNode(self.arrow,0,0,0,0);//out
                self.changeNode(self.touchArea,7.2,12.8,0,0);
            },
            function(){
                self.lblBg.active=false;
                self.changeNode(self.arrow,1.2,1.2,-184,-263);
                self.changeNode(self.touchArea,2.3,1,-195,-412);
                self.arrow.rotation=-90;
            },
            function(){
                self.blue.active=true;
                self.label.string="点击变蓝的玩家即可发动攻击，点击攻击键可以撤销操作";
                self.lblBg.active=true;
                self.changeNode(self.arrow,1.2,1.2,0,285);
                self.changeNode(self.touchArea,5.32,1.9,5,87);
            },
            function(){
                self.blue.active=false;
                //播放动画
                self.label.string='每次你对一个人发动攻击时，对方也会对你发动反击，是一个杀敌一千，自损八百的举动，所以发动攻击一定要谨慎哦'
                self.changeNode(self.arrow,0,0,0,0);//out
                self.changeNode(self.touchArea,7.2,12.8,0,0);
            },
            function(){
                self.label.string='玩家有四个基础属性：攻击，防御，敏捷，生命。 攻击影响你每次进攻造成的伤害，防御影响减伤效果，敏捷决定了你们之间的出手顺序，如果你的敏捷比对手高出很多的话，你还可以造成多次伤害而只受到一次反击哦。'
            },
            function(){
                self.label.string='生命为0的时候角色就会出局，而如果时间到了场上玩家数不止一个的话，就按每个角色的攻击，防御，敏捷三个属性的乘积大小来分出胜负。角色信息上的得分便是他们的乘积'
            },
            function(){
                self.label.string='提升自身属性的方法有两种：购买/强化装备和使用法术，让我们先了解一下怎么购买装备吧'
            },
            function(){
                self.lblBg.active=false;
                self.changeNode(self.arrow,1.2,1.2,-190,-399);//changeScene
                self.changeNode(self.touchArea,2.3,1,-196,-545);
            },
            function(){
                self.mainGameScene.active=false;
                self.choosePlayer.active=false;
                self.deckScene.active=true;
                self.changeNode(self.arrow,1.2,1.2,-201,437);//seeDetail！！！！
                self.changeNode(self.touchArea,1.52,1.5,-195,227);
            },
            function(){
                self.equipDetail.active=true;
                self.changeNode(self.arrow,1.2,1.2,184,-339);//buy
                self.changeNode(self.touchArea,2.08,0.75,7,-339);
                self.arrow.rotation=0;
            },
            function(){
                self.equipDetail.active=false;
                //+Lv1
                self.lblBg.active=true;
                self.label.string='很好，这样我们就成功地将这件装备买下来了。每次购买装备会占用2格背包容量，背包满了便无法继续购买，出售装备可以空出背包，方法跟购买相同，不过只能返还60%的钱，所以装备还是要谨慎购买\n下面我们来看一下如何强化装备'
                self.changeNode(self.arrow,0,0,0,0);//out
                self.changeNode(self.touchArea,7.2,12.8,0,0);
            },
            function(){
                self.lblBg.active=false;
                self.changeNode(self.arrow,1.2,1.2,-277,388);//backBtn
                self.changeNode(self.touchArea,1.2,1.2,-274,547);
                self.arrow.rotation=90;
            },
            function(){
                self.deckScene.active=false;
                self.mainGameScene.active=true;
                self.choosePlayer.active=true;
                self.changeNode(self.arrow,1.2,1.2,59,-269);//upgradeScene！！！
                self.changeNode(self.touchArea,2.3,1,57,-412);
                self.arrow.rotation=-90;
            },
            function(){
                self.mainGameScene.active=false;
                self.choosePlayer.active=false;
                self.equipScene.active=true;
                self.changeNode(self.arrow,1.2,1.2,-201,100);//选择
                self.changeNode(self.touchArea,1.52,1.5,-195,265);
                self.arrow.rotation=90;
            },
            function(){
                self.equipDetail.active=true;
                //init
                self.changeNode(self.arrow,1.2,1.2,190,-339);//upgrade
                self.changeNode(self.touchArea,2.08,0.75,7,-339);
            },
            function(){
                self.changeNode(self.arrow,1.2,1.2,211,176);//close！！！！！
                self.changeNode(self.touchArea,1,1,205,448);
            },
            function(){
                self.equipDetail.active=false;
                self.lblBg.active=true;
                self.label.string='无论是购买还是强化装备，都可以为你的某项属性提升5%（武器增加攻击，防具增加防御，鞋子增加敏捷），并附带装备的特殊效果，这个效果也会随着等级的变化而变化'
                self.changeNode(self.arrow,0,0,0,0);//out
                self.changeNode(self.touchArea,7.2,12.8,0,0);
            },
            function(){
                self.label.string='装备的介绍就到这里了，接下来我们就来看看怎样使用法术'
            },
            function(){
                self.lblBg.active=false;
                self.changeNode(self.arrow,1.2,1.2,-277,388);//backBtn
                self.changeNode(self.touchArea,1.2,1.2,-274,547);
                self.arrow.rotation=90;
            },
            function(){
                self.equipScene.active=false;
                self.mainGameScene.active=true;
                self.changeNode(self.arrow,1.2,1.2,-190,-399);//changeScene
                self.changeNode(self.touchArea,2.3,1,-196,-545);
                self.arrow.rotation=-90;
            },
            function(){
                self.deckScene.active=true;
                self.mainGameScene.active=false;
                self.changeNode(self.arrow,1.2,1.2,135,523);//changeToSpell
                self.changeNode(self.touchArea,3.4,1.5,155,359);
                self.arrow.rotation=-90;
            },
            function(){
                self.spellList.active=true;
                self.changeNode(self.arrow,1.2,1.2,-201,437);//seeDetail
                self.changeNode(self.touchArea,1.52,1.5,-195,227);
            },
            function(){
                self.spellDetail.active=true;
                self.changeNode(self.arrow,1.2,1.2,184,-301);//buy
                self.changeNode(self.touchArea,2.08,0.75,7,-301);
                self.arrow.rotation=0;
            },
            function(){
                self.label.string='购买之前没有买过的法术会占用1格背包容量，不过法术是不能出售的，所以法术的购买要更加慎重\n我们再来看一下怎样使用法术'
                self.lblBg.active=true;
                self.changeNode(self.arrow,0,0,0,0);//out
                self.changeNode(self.touchArea,7.2,12.8,0,0);
            },
            function(){
                self.spellDetail.active=false;
                self.changeNode(self.arrow,1.2,1.2,211,176);//close
                self.changeNode(self.touchArea,1,1,205,448);
                self.arrow.rotation=90;
            },
            function(){
                self.lblBg.active=false;
                self.changeNode(self.arrow,1.2,1.2,-277,388);//backBtn
                self.changeNode(self.touchArea,1.2,1.2,-274,547);
            },
            function(){
                self.deckScene.active=false;
                self.mainGameScene.active=true;
                self.choosePlayer.active=true;
                self.changeNode(self.arrow,1.2,1.2,59,-399);//changeScene
                self.changeNode(self.touchArea,2.3,1,57,-545);
                self.arrow.rotation=-90;
            },
            function(){
                self.mainGameScene.active=false;
                self.choosePlayer.active=false;
                self.spellScene.active=true;
                self.changeNode(self.arrow,1.2,1.2,-201,437);//seeDetail
                self.changeNode(self.touchArea,1.52,1.5,-195,265);
            },
            function(){
                self.spellDetail.active=true;
                //init;
                self.changeNode(self.arrow,1.2,1.2,184,-301);//buy
                self.changeNode(self.touchArea,2.08,0.75,7,-301);
                self.arrow.rotation=0;
            },
            function(){
                self.spellDetail.active=false;
                self.spellScene.active=false;
                self.choosePlayer.active=true;
                self.label.string="与发起攻击不同，所有法术都可以对任意一个人使用的，包括自己。"
                self.lblBg.active=true;
                self.changeNode(self.arrow,1.2,1.2,-17,132);//choosePlayer
                self.changeNode(self.touchArea,5.4,5.4,11,315);
                self.arrow.rotation=90;
            },
            function(){
                self.spellScene.active=true;
                self.choosePlayer.active=false;
                self.label.string='法术使用成功，你的攻击力提升了2%';
                self.changeNode(self.arrow,0,0,0,0);//out
                self.changeNode(self.touchArea,7.2,12.8,0,0);
            },
            function(){
                self.label.string='其实背包的容量很少，根本不够咱们玩的，所以让我们来扩充一下背包的容量吧';
            },
            function(){
                self.changeNode(self.arrow,1.2,1.2,254,419);//lengthen
                self.changeNode(self.touchArea,1.4,1.4,254,555);
            },
            function(){
                self.label.string='扩充背包花费的金币是你当前背包上限的10倍，扩充的次数越多，消耗的金币就越多，所以扩充背包也需要谨慎一些';
                self.changeNode(self.arrow,0,0,0,0);//out
                self.changeNode(self.touchArea,7.2,12.8,0,0);
            },
            function(){
                self.label.string='对了，金币是每2分钟获取1枚，每天22:30-6:30这段时间内不仅获取速度减半，而且无法进行任何操作。所以，好好休息，别一天到晚想着游戏'
            },
            function(){
                self.label.string='另外，每天有四次机会让你获取的金币翻倍，所以就算你每天登录的次数多了你也不会有更多的收益的哦'
            },
            function(){
                self.mainGameScene.active=true;
                self.spellScene.active=false;
                self.label.string='基本操作的教程就到这里了。对了，点击右上角的按钮可以查看三个玩家操作的记录，点击玩家可以查看更详细的信息，右下角的计算器可以帮你完成很多计算任务，祝你游戏愉快！'
            },
            function(){
                cc.director.loadScene('hall');
            }
        ];
        this.process++;
        fnList[this.process]();
    },
    changeNode(node,scaleX,scaleY,x,y){
        node.x=x;
        node.y=y;
        node.scaleX=scaleX;
        node.scaleY=scaleY;
    },
    onLoad () {
        this.changeNode(this.touchArea,7.2,12.8,0,0);
    },
    start () {
    },
});